import{a as $}from"./chunk-NRINXQYY.js";import{a as Z}from"./chunk-ZHXSHU6C.js";import{F as H,G as J,N as K,O as Q,wd as X}from"./chunk-2BYPWJHQ.js";import"./chunk-WACMVKXJ.js";import"./chunk-2QSN2QZ4.js";import"./chunk-G2XYFENO.js";import"./chunk-A6GTVXL6.js";import{D as G,d as j,i as O,n as R,t as z,u as Y,v as q}from"./chunk-KCCW6LK5.js";import{a as B}from"./chunk-KV7E3DUU.js";import{$a as v,Gc as L,Ja as o,Kb as r,Lb as S,Mb as C,Oa as M,Qb as u,Rb as g,Sb as f,Wa as P,Wc as F,Xa as x,Xc as V,Y as U,Zc as T,db as m,eb as I,fb as w,ga as b,ha as E,hc as k,ob as t,pb as i,qb as h,tc as A,ub as y,uc as N,vc as W,wb as c,xb as p}from"./chunk-MSHI2ENP.js";import"./chunk-EQDQRRRY.js";function ne(s,_){s&1&&(t(0,"div",75)(1,"div",76)(2,"div",77)(3,"span",78),r(4,"Loading..."),i()(),t(5,"p",79),r(6,"Loading users..."),i()()())}function ae(s,_){if(s&1){let n=y();t(0,"div",75)(1,"div",76)(2,"div",80),h(3,"i",81),r(4),t(5,"button",82),c("click",function(){b(n);let e=p();return E(e.loadData())}),r(6,"Retry"),i()()()()}if(s&2){let n=p();o(4),C("",n.errorMessage," ")}}function re(s,_){s&1&&(t(0,"div",75)(1,"div",83),h(2,"i",84),t(3,"p",85),r(4,"No users found"),i()()())}function oe(s,_){if(s&1){let n=y();t(0,"li")(1,"a",111),c("click",function(){b(n);let e=p().$implicit,d=p(2);return E(d.deactivateUser(e))}),h(2,"i",112),r(3,"Deactivate "),i()()}}function se(s,_){if(s&1){let n=y();t(0,"li")(1,"a",113),c("click",function(){b(n);let e=p().$implicit,d=p(2);return E(d.activateUser(e))}),h(2,"i",114),r(3,"Activate "),i()()}}function le(s,_){if(s&1){let n=y();t(0,"tr")(1,"td"),r(2),i(),t(3,"td")(4,"div",95)(5,"span",96),r(6),i(),t(7,"div")(8,"h6",97),r(9),i(),t(10,"small",68),r(11),i()()()(),t(12,"td")(13,"p",98),r(14),i()(),t(15,"td")(16,"span",99),r(17),i()(),t(18,"td")(19,"span",99),r(20),i()(),t(21,"td")(22,"p",98),r(23),i()(),t(24,"td")(25,"span",100),h(26,"i",101),r(27),i()(),t(28,"td")(29,"div",102)(30,"button",103),h(31,"i",104),i(),t(32,"ul",105)(33,"li")(34,"a",106),c("click",function(){let e=b(n).$implicit,d=p(2);return E(d.openEditModal(e))}),h(35,"i",107),r(36,"Edit "),i()(),v(37,oe,4,0,"li",108)(38,se,4,0,"li",108),t(39,"li")(40,"a",109),c("click",function(){let e=b(n).$implicit,d=p(2);return E(d.openDeleteModal(e))}),h(41,"i",110),r(42,"Delete "),i()()()()()()}if(s&2){let n,l=_.$implicit,e=p(2);o(2),S(l.sNo),o(4),C(" ",(l.firstName==null||(n=l.firstName.charAt(0))==null?null:n.toUpperCase())||(l.username==null||(n=l.username.charAt(0))==null?null:n.toUpperCase())||"?"," "),o(3),S(l.fullName||l.username),o(2),C("@",l.username,""),o(3),S(l.email),o(2),m("ngClass",e.getRoleBadgeClass(l.roleId)),o(),C(" ",l.roleName," "),o(2),m("ngClass",l.twoFactorAuth==="Y"?"bg-success":"bg-secondary"),o(),C(" ",l.twoFactorAuth==="Y"?"Enabled":"Disabled"," "),o(3),S(l.lastLogin||"Never"),o(3),m("ngClass",e.getStatusClass(l.userStatus)),o(),C(" ",l.userStatus," "),o(10),m("ngIf",l.userStatus==="ACTIVE"),o(),m("ngIf",l.userStatus!=="ACTIVE")}}function de(s,_){if(s&1){let n=y();t(0,"div",86)(1,"table",87),c("matSortChange",function(e){b(n);let d=p();return E(d.sortData(e))}),t(2,"thead",88)(3,"tr")(4,"th"),r(5,"#"),i(),t(6,"th",89),r(7,"USER"),i(),t(8,"th",90),r(9,"EMAIL"),i(),t(10,"th",91),r(11,"ROLE"),i(),t(12,"th"),r(13,"2FA"),i(),t(14,"th",92),r(15,"LAST LOGIN"),i(),t(16,"th",93),r(17,"STATUS"),i(),h(18,"th"),i()(),t(19,"tbody"),v(20,le,43,14,"tr",94),i()()()}if(s&2){let n=p();o(20),m("ngForOf",n.tableData)}}function me(s,_){s&1&&(t(0,"div",115),h(1,"app-custom-pagination"),i())}function ce(s,_){if(s&1&&(t(0,"div",116),h(1,"i",117),r(2),i()),s&2){let n=p();o(2),C("",n.submitSuccess," ")}}function pe(s,_){if(s&1&&(t(0,"div",118),h(1,"i",81),r(2),i()),s&2){let n=p();o(2),C("",n.submitError," ")}}function ue(s,_){if(s&1&&(t(0,"div",119),r(1),i()),s&2){let n=p();o(),S(n.formErrors.password)}}function ge(s,_){if(s&1&&(t(0,"div",119),r(1),i()),s&2){let n=p();o(),S(n.formErrors.confirmPassword)}}function fe(s,_){s&1&&h(0,"span",120)}function he(s,_){if(s&1){let n=y();t(0,"div",121),c("click",function(){b(n);let e=p();return E(e.closeAddModal())}),i()}}function _e(s,_){if(s&1&&(t(0,"div",116),h(1,"i",117),r(2),i()),s&2){let n=p();o(2),C("",n.submitSuccess," ")}}function ve(s,_){if(s&1&&(t(0,"div",118),h(1,"i",81),r(2),i()),s&2){let n=p();o(2),C("",n.submitError," ")}}function Se(s,_){if(s&1&&(t(0,"div",119),r(1),i()),s&2){let n=p();o(),S(n.formErrors.confirmPassword)}}function we(s,_){s&1&&h(0,"span",120)}function Ce(s,_){if(s&1){let n=y();t(0,"div",121),c("click",function(){b(n);let e=p();return E(e.closeEditModal())}),i()}}function be(s,_){if(s&1){let n=y();t(0,"div",121),c("click",function(){b(n);let e=p();return E(e.closeDeleteModal())}),i()}}var te=(()=>{class s{constructor(n,l,e,d,a){this.apiService=n,this.authService=l,this.router=e,this.pagination=d,this.cdr=a,this.routes=B,this.password=[!1,!1,!1,!1],this.tableData=[],this.totalCount=0,this.pageSize=5,this.currentPage=0,this.sortBy="Descending",this.status="",this.searchTerm="",this.isLoading=!1,this.hasError=!1,this.errorMessage="",this.showAddModal=!1,this.showEditModal=!1,this.showDeleteModal=!1,this.selectedUser=null,this.currentUserRole=2,this.formData={id:null,username:"",email:"",password:"",confirmPassword:"",firstName:"",lastName:"",roleId:2,twoFactorAuth:"N",userStatus:"ACTIVE"},this.formErrors={},this.isSubmitting=!1,this.submitSuccess="",this.submitError="",this.isLoadingData=!1,this.isUpdatingPagination=!1,this.pagination.tablePageSize.subscribe(D=>{this.isUpdatingPagination||this.isLoadingData||!this.router.url.includes("/users")||this.getTableData({skip:D.skip,limit:D.limit})})}ngOnInit(){this.checkAdminAccess(),setTimeout(()=>{this.loadData()},0)}checkAdminAccess(){let n=this.authService.getUserInfo();n&&n.role_id&&(this.currentUserRole=n.role_id,this.currentUserRole!==1&&this.router.navigate(["/admin/index"]))}togglePassword(n){this.password[n]=!this.password[n]}loadData(){if(this.isLoadingData)return;this.isLoadingData=!0,this.isLoading=!0,this.hasError=!1,this.errorMessage="";let n={page:this.currentPage,sortBy:this.sortBy,fromDate:"",toDate:"",status:this.status,pageSize:this.pageSize};this.apiService.getUsersFilter(n).subscribe({next:l=>{let e=l?.data||l||[];this.totalCount=l?.totalCount||e.length,Array.isArray(e)?this.tableData=e.map((a,D)=>({sNo:this.currentPage*this.pageSize+D+1,id:a.id,username:a.username,email:a.email,firstName:a.firstName||"",lastName:a.lastName||"",fullName:`${a.firstName||""} ${a.lastName||""}`.trim()||a.username,roleId:a.roleId,roleName:a.roleId===1?"Admin":"User",twoFactorAuth:a.twoFactorAuth,lastLogin:a.lastLogin,userStatus:a.userStatus||"ACTIVE",language:a.language})):this.tableData=[];let d=this.tableData.map((a,D)=>this.currentPage*this.pageSize+D+1);this.isLoading=!1,this.isLoadingData=!1,this.isUpdatingPagination=!0,this.pagination.calculatePageSize.next({totalData:this.totalCount,pageSize:this.pageSize,tableData:this.tableData,serialNumberArray:d}),setTimeout(()=>{this.isUpdatingPagination=!1,this.cdr.detectChanges()},100)},error:l=>{this.isLoading=!1,this.isLoadingData=!1,this.hasError=!0,this.errorMessage="Failed to load users. Please try again.",console.error("Error loading users:",l),this.cdr.markForCheck()}})}applyFilters(){this.currentPage=0,this.loadData()}clearFilters(){this.sortBy="Descending",this.status="",this.searchTerm="",this.currentPage=0,this.loadData()}onSortChange(n){this.sortBy=n||"Descending",this.currentPage=0,this.loadData()}onStatusChange(n){this.status=n||"",this.currentPage=0,this.loadData()}searchData(n){if(n&&n.trim()){let l=n.toLowerCase();this.tableData=this.tableData.filter(e=>e.username?.toLowerCase().includes(l)||e.email?.toLowerCase().includes(l)||e.fullName?.toLowerCase().includes(l))}else this.loadData()}getTableData(n){this.isLoadingData||(this.currentPage=Math.floor((n.skip||0)/this.pageSize),this.loadData())}changePageSize(n){this.pageSize=Math.min(n,5),this.currentPage=0,this.loadData()}sortData(n){n.direction==="desc"?this.sortBy="Descending":this.sortBy="Ascending",this.currentPage=0,this.loadData()}openAddModal(){this.resetForm(),this.showAddModal=!0}closeAddModal(){this.showAddModal=!1,this.resetForm()}openEditModal(n){this.selectedUser=n,this.formData={id:n.id,username:n.username,email:n.email,password:"",confirmPassword:"",firstName:n.firstName,lastName:n.lastName,roleId:n.roleId,twoFactorAuth:n.twoFactorAuth||"N",userStatus:n.userStatus||"ACTIVE"},this.formErrors={},this.submitSuccess="",this.submitError="",this.showEditModal=!0}closeEditModal(){this.showEditModal=!1,this.selectedUser=null,this.resetForm()}openDeleteModal(n){this.selectedUser=n,this.showDeleteModal=!0}closeDeleteModal(){this.showDeleteModal=!1,this.selectedUser=null}resetForm(){this.formData={id:null,username:"",email:"",password:"",confirmPassword:"",firstName:"",lastName:"",roleId:2,twoFactorAuth:"N",userStatus:"ACTIVE"},this.formErrors={},this.submitSuccess="",this.submitError=""}validateForm(n=!1){return this.formErrors={},(!this.formData.username||this.formData.username.trim()==="")&&(this.formErrors.username="Username is required"),!this.formData.email||this.formData.email.trim()===""?this.formErrors.email="Email is required":this.isValidEmail(this.formData.email)||(this.formErrors.email="Invalid email format"),!n&&(!this.formData.password||this.formData.password.trim()==="")&&(this.formErrors.password="Password is required"),this.formData.password&&this.formData.password!==this.formData.confirmPassword&&(this.formErrors.confirmPassword="Passwords do not match"),Object.keys(this.formErrors).length===0}isValidEmail(n){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)}submitAddForm(){if(!this.validateForm(!1))return;this.isSubmitting=!0,this.submitSuccess="",this.submitError="";let n={username:this.formData.username,email:this.formData.email,password:this.formData.password,firstName:this.formData.firstName,lastName:this.formData.lastName,roleId:this.formData.roleId,twoFactorAuth:this.formData.twoFactorAuth,userStatus:this.formData.userStatus};delete n.id,this.apiService.createUser(n).subscribe({next:l=>{this.isSubmitting=!1,l.errorCode==="000000"?(this.submitSuccess="User created successfully!",setTimeout(()=>{this.closeAddModal(),this.loadData()},1500)):this.submitError=l.errorDescription||"Failed to create user"},error:l=>{this.isSubmitting=!1,this.submitError="Failed to create user. Please try again.",console.error("Error creating user:",l)}})}submitEditForm(){if(!this.validateForm(!0))return;this.isSubmitting=!0,this.submitSuccess="",this.submitError="";let n={id:this.formData.id,username:this.formData.username,email:this.formData.email,firstName:this.formData.firstName,lastName:this.formData.lastName,roleId:this.formData.roleId,twoFactorAuth:this.formData.twoFactorAuth,userStatus:this.formData.userStatus};this.formData.password&&this.formData.password.trim()&&(n.password=this.formData.password),this.apiService.updateUser(n).subscribe({next:l=>{this.isSubmitting=!1,l.errorCode==="000000"?(this.submitSuccess="User updated successfully!",setTimeout(()=>{this.closeEditModal(),this.loadData()},1500)):this.submitError=l.errorDescription||"Failed to update user"},error:l=>{this.isSubmitting=!1,this.submitError="Failed to update user. Please try again.",console.error("Error updating user:",l)}})}activateUser(n){this.updateUserStatus(n.id,"ACTIVE")}deactivateUser(n){this.updateUserStatus(n.id,"INACTIVE")}confirmDelete(){this.selectedUser&&(this.updateUserStatus(this.selectedUser.id,"DELETED"),this.closeDeleteModal())}updateUserStatus(n,l){this.apiService.updateUserStatus({userId:n,status:l}).subscribe({next:e=>{e.errorCode==="000000"?this.loadData():alert(e.errorDescription||"Failed to update user status")},error:e=>{console.error("Error updating user status:",e),alert("Failed to update user status. Please try again.")}})}getStatusClass(n){switch(n?.toUpperCase()){case"ACTIVE":return"text-success";case"INACTIVE":return"text-danger";case"PENDING":return"text-warning";default:return"text-secondary"}}getStatusBadgeClass(n){switch(n?.toUpperCase()){case"ACTIVE":return"bg-success";case"INACTIVE":return"bg-danger";case"PENDING":return"bg-warning";default:return"bg-secondary"}}getRoleBadgeClass(n){return n===1?"bg-primary":"bg-info"}static{this.\u0275fac=function(l){return new(l||s)(M(Z),M($),M(F),M(K),M(k))}}static{this.\u0275cmp=P({type:s,selectors:[["app-users"]],standalone:!1,decls:254,vars:86,consts:[[1,"content","me-4"],[1,"d-md-flex","d-block","align-items-center","justify-content-between","page-breadcrumb","mb-3"],[1,"my-auto","mb-2"],[1,"mb-1"],[1,"breadcrumb","mb-0"],[1,"breadcrumb-item"],[3,"routerLink"],["aria-current","page",1,"breadcrumb-item","active"],[1,"d-flex","my-xl-auto","right-content","align-items-center","flex-wrap"],[1,"mb-2"],[1,"btn","btn-primary","d-flex","align-items-center",3,"click"],[1,"ti","ti-plus","me-2"],[1,"d-flex","align-items-center","justify-content-between","flex-wrap","row-gap-3","mb-3"],[1,"d-flex","align-items-center","flex-wrap","row-gap-3"],[1,"dropdown","me-2"],[1,"form-select",3,"ngModelChange","change","ngModel"],["value","Descending"],["value","Ascending"],["value",""],["value","ACTIVE"],["value","INACTIVE"],[1,"btn","btn-secondary",3,"click"],[1,"ti","ti-refresh","me-1"],[1,"d-flex","my-xl-auto","right-content","align-items-center","flex-wrap","row-gap-3"],[1,"top-search","me-2"],[1,"top-search-group"],[1,"input-icon"],[1,"ti","ti-search"],["type","search","placeholder","Search users...",1,"form-control","form-control-md",3,"ngModelChange","input","ngModel"],["class","card",4,"ngIf"],["class","custom-datatable-filter table-responsive",4,"ngIf"],["class","table-footer",4,"ngIf"],["tabindex","-1",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"mb-0"],["type","button",1,"btn-close",3,"click"],[1,"modal-body","pb-1"],["class","alert alert-success",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"row"],[1,"col-md-6"],[1,"mb-3"],[1,"form-label"],["type","text","placeholder","Enter first name",1,"form-control",3,"ngModelChange","ngModel"],["type","text","placeholder","Enter last name",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-12"],[1,"text-danger"],["type","text","placeholder","Enter username",1,"form-control",3,"ngModelChange","ngModel"],[1,"invalid-feedback"],[1,"form-select",3,"ngModelChange","ngModel"],[3,"ngValue"],["type","email","placeholder","Enter email",1,"form-control",3,"ngModelChange","ngModel"],[1,"pass-group"],[1,"form-control",3,"ngModelChange","type","ngModel"],["tabindex","0",1,"ti","toggle-password",3,"click","ngClass"],["class","text-danger small mt-1",4,"ngIf"],["value","N"],["value","Y"],[1,"modal-footer"],[1,"d-flex","justify-content-center"],["type","button",1,"btn","btn-light","me-3",3,"click","disabled"],["type","button",1,"btn","btn-primary",3,"click","disabled"],["class","spinner-border spinner-border-sm me-2",4,"ngIf"],["class","modal-backdrop fade show",3,"click",4,"ngIf"],["type","text",1,"form-control",3,"ngModelChange","ngModel"],["type","email",1,"form-control",3,"ngModelChange","ngModel"],[1,"text-muted"],[1,"modal-dialog","modal-dialog-centered","modal-sm"],[1,"modal-content","text-center","p-4"],[1,"avatar","avatar-lg","bg-transparent-danger","rounded-circle","text-danger","mb-3","mx-auto"],[1,"ti","ti-trash-x","fs-26"],["type","button",1,"btn","btn-light","me-3",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],[1,"card"],[1,"card-body","text-center","p-5"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-2","mb-0"],[1,"alert","alert-danger","mb-0"],[1,"ti","ti-alert-circle","me-2"],[1,"btn","btn-sm","btn-outline-danger","ms-2",3,"click"],[1,"card-body","text-center","p-5","text-muted"],[1,"ti","ti-users-off",2,"font-size","48px"],[1,"mt-3","mb-0"],[1,"custom-datatable-filter","table-responsive"],["matSort","",1,"table","datatable",3,"matSortChange"],[1,"thead-light"],["mat-sort-header","username"],["mat-sort-header","email"],["mat-sort-header","role"],["mat-sort-header","lastLogin"],["mat-sort-header","status"],[4,"ngFor","ngForOf"],[1,"d-flex","align-items-center"],[1,"avatar","avatar-sm","me-2","bg-primary","text-white","d-flex","align-items-center","justify-content-center","rounded-circle"],[1,"fs-14","fw-semibold","mb-0"],[1,"text-gray-9","mb-0"],[1,"badge",3,"ngClass"],[1,"badge","badge-dark-transparent"],[1,"ti","ti-point-filled","me-1",3,"ngClass"],[1,"dropdown"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-icon","btn-sm"],[1,"ti","ti-dots-vertical"],[1,"dropdown-menu","dropdown-menu-end","p-2"],["href","javascript:void(0);",1,"dropdown-item","rounded-1",3,"click"],[1,"ti","ti-edit","me-1"],[4,"ngIf"],["href","javascript:void(0);",1,"dropdown-item","rounded-1","text-danger",3,"click"],[1,"ti","ti-trash","me-1"],["href","javascript:void(0);",1,"dropdown-item","rounded-1","text-warning",3,"click"],[1,"ti","ti-user-off","me-1"],["href","javascript:void(0);",1,"dropdown-item","rounded-1","text-success",3,"click"],[1,"ti","ti-user-check","me-1"],[1,"table-footer"],[1,"alert","alert-success"],[1,"ti","ti-check","me-2"],[1,"alert","alert-danger"],[1,"text-danger","small","mt-1"],[1,"spinner-border","spinner-border-sm","me-2"],[1,"modal-backdrop","fade","show",3,"click"]],template:function(l,e){l&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),r(4,"User Management"),i(),t(5,"nav")(6,"ol",4)(7,"li",5)(8,"a",6),r(9,"Home"),i()(),t(10,"li",7),r(11,"Users"),i()()()(),t(12,"div",8)(13,"div",9)(14,"button",10),c("click",function(){return e.openAddModal()}),h(15,"i",11),r(16,"Add User "),i()()()(),t(17,"div",12)(18,"div",13)(19,"div",14)(20,"select",15),f("ngModelChange",function(a){return g(e.sortBy,a)||(e.sortBy=a),a}),c("change",function(){return e.onSortChange(e.sortBy)}),t(21,"option",16),r(22,"Newest First"),i(),t(23,"option",17),r(24,"Oldest First"),i()()(),t(25,"div",14)(26,"select",15),f("ngModelChange",function(a){return g(e.status,a)||(e.status=a),a}),c("change",function(){return e.onStatusChange(e.status)}),t(27,"option",18),r(28,"All Status"),i(),t(29,"option",19),r(30,"Active"),i(),t(31,"option",20),r(32,"Inactive"),i()()(),t(33,"button",21),c("click",function(){return e.clearFilters()}),h(34,"i",22),r(35,"Clear "),i()(),t(36,"div",23)(37,"div",24)(38,"div",25)(39,"span",26),h(40,"i",27),i(),t(41,"input",28),f("ngModelChange",function(a){return g(e.searchTerm,a)||(e.searchTerm=a),a}),c("input",function(){return e.searchData(e.searchTerm)}),i()()()()(),v(42,ne,7,0,"div",29)(43,ae,7,1,"div",29)(44,re,5,0,"div",29)(45,de,21,1,"div",30)(46,me,2,0,"div",31),i(),t(47,"div",32)(48,"div",33)(49,"div",34)(50,"div",35)(51,"h5",36),r(52,"Create User"),i(),t(53,"button",37),c("click",function(){return e.closeAddModal()}),i()(),t(54,"div",38),v(55,ce,3,1,"div",39)(56,pe,3,1,"div",40),t(57,"div",41)(58,"div",42)(59,"div",43)(60,"label",44),r(61,"First Name"),i(),t(62,"input",45),f("ngModelChange",function(a){return g(e.formData.firstName,a)||(e.formData.firstName=a),a}),i()()(),t(63,"div",42)(64,"div",43)(65,"label",44),r(66,"Last Name"),i(),t(67,"input",46),f("ngModelChange",function(a){return g(e.formData.lastName,a)||(e.formData.lastName=a),a}),i()()(),t(68,"div",47)(69,"div",43)(70,"label",44),r(71,"Username "),t(72,"span",48),r(73,"*"),i()(),t(74,"input",49),f("ngModelChange",function(a){return g(e.formData.username,a)||(e.formData.username=a),a}),i(),t(75,"div",50),r(76),i()()(),t(77,"div",47)(78,"div",43)(79,"label",44),r(80,"Role "),t(81,"span",48),r(82,"*"),i()(),t(83,"select",51),f("ngModelChange",function(a){return g(e.formData.roleId,a)||(e.formData.roleId=a),a}),t(84,"option",52),r(85,"Admin"),i(),t(86,"option",52),r(87,"User"),i()()()(),t(88,"div",47)(89,"div",43)(90,"label",44),r(91,"Email "),t(92,"span",48),r(93,"*"),i()(),t(94,"input",53),f("ngModelChange",function(a){return g(e.formData.email,a)||(e.formData.email=a),a}),i(),t(95,"div",50),r(96),i()()(),t(97,"div",42)(98,"div",43)(99,"label",44),r(100,"Password "),t(101,"span",48),r(102,"*"),i()(),t(103,"div",54)(104,"input",55),f("ngModelChange",function(a){return g(e.formData.password,a)||(e.formData.password=a),a}),i(),t(105,"span",56),c("click",function(){return e.togglePassword(0)}),i()(),v(106,ue,2,1,"div",57),i()(),t(107,"div",42)(108,"div",43)(109,"label",44),r(110,"Confirm Password "),t(111,"span",48),r(112,"*"),i()(),t(113,"div",54)(114,"input",55),f("ngModelChange",function(a){return g(e.formData.confirmPassword,a)||(e.formData.confirmPassword=a),a}),i(),t(115,"span",56),c("click",function(){return e.togglePassword(1)}),i()(),v(116,ge,2,1,"div",57),i()(),t(117,"div",42)(118,"div",43)(119,"label",44),r(120,"Two-Factor Authentication"),i(),t(121,"select",51),f("ngModelChange",function(a){return g(e.formData.twoFactorAuth,a)||(e.formData.twoFactorAuth=a),a}),t(122,"option",58),r(123,"Disabled"),i(),t(124,"option",59),r(125,"Enabled"),i()()()(),t(126,"div",42)(127,"div",43)(128,"label",44),r(129,"Status"),i(),t(130,"select",51),f("ngModelChange",function(a){return g(e.formData.userStatus,a)||(e.formData.userStatus=a),a}),t(131,"option",19),r(132,"Active"),i(),t(133,"option",20),r(134,"Inactive"),i()()()()()(),t(135,"div",60)(136,"div",61)(137,"button",62),c("click",function(){return e.closeAddModal()}),r(138,"Cancel"),i(),t(139,"button",63),c("click",function(){return e.submitAddForm()}),v(140,fe,1,0,"span",64),r(141," Create User "),i()()()()()(),v(142,he,1,0,"div",65),t(143,"div",32)(144,"div",33)(145,"div",34)(146,"div",35)(147,"h5",36),r(148,"Edit User"),i(),t(149,"button",37),c("click",function(){return e.closeEditModal()}),i()(),t(150,"div",38),v(151,_e,3,1,"div",39)(152,ve,3,1,"div",40),t(153,"div",41)(154,"div",42)(155,"div",43)(156,"label",44),r(157,"First Name"),i(),t(158,"input",45),f("ngModelChange",function(a){return g(e.formData.firstName,a)||(e.formData.firstName=a),a}),i()()(),t(159,"div",42)(160,"div",43)(161,"label",44),r(162,"Last Name"),i(),t(163,"input",46),f("ngModelChange",function(a){return g(e.formData.lastName,a)||(e.formData.lastName=a),a}),i()()(),t(164,"div",47)(165,"div",43)(166,"label",44),r(167,"Username "),t(168,"span",48),r(169,"*"),i()(),t(170,"input",66),f("ngModelChange",function(a){return g(e.formData.username,a)||(e.formData.username=a),a}),i(),t(171,"div",50),r(172),i()()(),t(173,"div",47)(174,"div",43)(175,"label",44),r(176,"Role "),t(177,"span",48),r(178,"*"),i()(),t(179,"select",51),f("ngModelChange",function(a){return g(e.formData.roleId,a)||(e.formData.roleId=a),a}),t(180,"option",52),r(181,"Admin"),i(),t(182,"option",52),r(183,"User"),i()()()(),t(184,"div",47)(185,"div",43)(186,"label",44),r(187,"Email "),t(188,"span",48),r(189,"*"),i()(),t(190,"input",67),f("ngModelChange",function(a){return g(e.formData.email,a)||(e.formData.email=a),a}),i(),t(191,"div",50),r(192),i()()(),t(193,"div",42)(194,"div",43)(195,"label",44),r(196,"New Password "),t(197,"span",68),r(198,"(leave blank to keep current)"),i()(),t(199,"div",54)(200,"input",55),f("ngModelChange",function(a){return g(e.formData.password,a)||(e.formData.password=a),a}),i(),t(201,"span",56),c("click",function(){return e.togglePassword(2)}),i()()()(),t(202,"div",42)(203,"div",43)(204,"label",44),r(205,"Confirm New Password"),i(),t(206,"div",54)(207,"input",55),f("ngModelChange",function(a){return g(e.formData.confirmPassword,a)||(e.formData.confirmPassword=a),a}),i(),t(208,"span",56),c("click",function(){return e.togglePassword(3)}),i()(),v(209,Se,2,1,"div",57),i()(),t(210,"div",42)(211,"div",43)(212,"label",44),r(213,"Two-Factor Authentication"),i(),t(214,"select",51),f("ngModelChange",function(a){return g(e.formData.twoFactorAuth,a)||(e.formData.twoFactorAuth=a),a}),t(215,"option",58),r(216,"Disabled"),i(),t(217,"option",59),r(218,"Enabled"),i()()()(),t(219,"div",42)(220,"div",43)(221,"label",44),r(222,"Status"),i(),t(223,"select",51),f("ngModelChange",function(a){return g(e.formData.userStatus,a)||(e.formData.userStatus=a),a}),t(224,"option",19),r(225,"Active"),i(),t(226,"option",20),r(227,"Inactive"),i()()()()()(),t(228,"div",60)(229,"div",61)(230,"button",62),c("click",function(){return e.closeEditModal()}),r(231,"Cancel"),i(),t(232,"button",63),c("click",function(){return e.submitEditForm()}),v(233,we,1,0,"span",64),r(234," Save Changes "),i()()()()()(),v(235,Ce,1,0,"div",65),t(236,"div",32)(237,"div",69)(238,"div",70)(239,"span",71),h(240,"i",72),i(),t(241,"h4",3),r(242,"Delete User"),i(),t(243,"p",43),r(244,"Are you sure you want to delete "),t(245,"strong"),r(246),i(),r(247,"?"),i(),t(248,"div",61)(249,"button",73),c("click",function(){return e.closeDeleteModal()}),r(250,"Cancel"),i(),t(251,"button",74),c("click",function(){return e.confirmDelete()}),r(252,"Yes, Delete"),i()()()()(),v(253,be,1,0,"div",65)),l&2&&(o(8),m("routerLink",e.routes.adminDashboard),o(12),u("ngModel",e.sortBy),o(6),u("ngModel",e.status),o(15),u("ngModel",e.searchTerm),o(),m("ngIf",e.isLoading),o(),m("ngIf",e.hasError&&!e.isLoading),o(),m("ngIf",!e.isLoading&&!e.hasError&&e.tableData.length===0),o(),m("ngIf",!e.isLoading&&!e.hasError&&e.tableData.length>0),o(),m("ngIf",!e.isLoading&&!e.hasError&&e.tableData.length>0),o(),I("display",e.showAddModal?"block":"none"),w("show",e.showAddModal),o(8),m("ngIf",e.submitSuccess),o(),m("ngIf",e.submitError),o(6),u("ngModel",e.formData.firstName),o(5),u("ngModel",e.formData.lastName),o(7),w("is-invalid",e.formErrors.username),u("ngModel",e.formData.username),o(2),S(e.formErrors.username),o(7),u("ngModel",e.formData.roleId),o(),m("ngValue",1),o(2),m("ngValue",2),o(8),w("is-invalid",e.formErrors.email),u("ngModel",e.formData.email),o(2),S(e.formErrors.email),o(8),w("is-invalid",e.formErrors.password),m("type",e.password[0]?"text":"password"),u("ngModel",e.formData.password),o(),m("ngClass",e.password[0]?"ti-eye":"ti-eye-off"),o(),m("ngIf",e.formErrors.password),o(8),w("is-invalid",e.formErrors.confirmPassword),m("type",e.password[1]?"text":"password"),u("ngModel",e.formData.confirmPassword),o(),m("ngClass",e.password[1]?"ti-eye":"ti-eye-off"),o(),m("ngIf",e.formErrors.confirmPassword),o(5),u("ngModel",e.formData.twoFactorAuth),o(9),u("ngModel",e.formData.userStatus),o(7),m("disabled",e.isSubmitting),o(2),m("disabled",e.isSubmitting),o(),m("ngIf",e.isSubmitting),o(2),m("ngIf",e.showAddModal),o(),I("display",e.showEditModal?"block":"none"),w("show",e.showEditModal),o(8),m("ngIf",e.submitSuccess),o(),m("ngIf",e.submitError),o(6),u("ngModel",e.formData.firstName),o(5),u("ngModel",e.formData.lastName),o(7),w("is-invalid",e.formErrors.username),u("ngModel",e.formData.username),o(2),S(e.formErrors.username),o(7),u("ngModel",e.formData.roleId),o(),m("ngValue",1),o(2),m("ngValue",2),o(8),w("is-invalid",e.formErrors.email),u("ngModel",e.formData.email),o(2),S(e.formErrors.email),o(8),m("type",e.password[2]?"text":"password"),u("ngModel",e.formData.password),o(),m("ngClass",e.password[2]?"ti-eye":"ti-eye-off"),o(6),w("is-invalid",e.formErrors.confirmPassword),m("type",e.password[3]?"text":"password"),u("ngModel",e.formData.confirmPassword),o(),m("ngClass",e.password[3]?"ti-eye":"ti-eye-off"),o(),m("ngIf",e.formErrors.confirmPassword),o(5),u("ngModel",e.formData.twoFactorAuth),o(9),u("ngModel",e.formData.userStatus),o(7),m("disabled",e.isSubmitting),o(2),m("disabled",e.isSubmitting),o(),m("ngIf",e.isSubmitting),o(2),m("ngIf",e.showEditModal),o(),I("display",e.showDeleteModal?"block":"none"),w("show",e.showDeleteModal),o(10),S((e.selectedUser==null?null:e.selectedUser.fullName)||(e.selectedUser==null?null:e.selectedUser.username)),o(7),m("ngIf",e.showDeleteModal))},dependencies:[A,N,W,Y,q,j,z,O,R,V,H,J,Q],styles:[".modal.show[_ngcontent-%COMP%]{display:block!important}.modal-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;z-index:1040}.modal[_ngcontent-%COMP%]{z-index:1050}.pass-group[_ngcontent-%COMP%]{position:relative}.pass-group[_ngcontent-%COMP%]   .toggle-password[_ngcontent-%COMP%]{position:absolute;right:10px;top:50%;transform:translateY(-50%);cursor:pointer;color:#6c757d}.pass-group[_ngcontent-%COMP%]   .toggle-password[_ngcontent-%COMP%]:hover{color:#495057}"]})}}return s})();var Ee=[{path:"",component:te}],ie=(()=>{class s{static{this.\u0275fac=function(l){return new(l||s)}}static{this.\u0275mod=x({type:s})}static{this.\u0275inj=U({imports:[T.forChild(Ee),T]})}}return s})();var ze=(()=>{class s{static{this.\u0275fac=function(l){return new(l||s)}}static{this.\u0275mod=x({type:s})}static{this.\u0275inj=U({imports:[L,G,ie,X]})}}return s})();export{ze as UsersModule};
