import{a as R}from"./chunk-K7ACIKUK.js";import{F as T,G as I,N as P,O as V,wd as F}from"./chunk-2BYPWJHQ.js";import"./chunk-WACMVKXJ.js";import"./chunk-2QSN2QZ4.js";import"./chunk-G2XYFENO.js";import{a as k}from"./chunk-A6GTVXL6.js";import{d as z,i as A,n as L}from"./chunk-KCCW6LK5.js";import{a as j}from"./chunk-KV7E3DUU.js";import{Gc as E,Ja as d,Kb as a,Lb as b,Oa as c,Qb as y,Rb as x,Sb as C,Ub as N,Wa as S,Wc as M,Xa as h,Xc as _,Y as p,Zc as f,db as u,lb as w,mb as v,nb as D,ob as t,pb as e,qb as m,wb as g}from"./chunk-MSHI2ENP.js";import"./chunk-EQDQRRRY.js";var q=()=>({standalone:!0});function G(n,O){if(n&1&&(t(0,"tr")(1,"td")(2,"p",37),a(3),e()(),t(4,"td")(5,"p",37),a(6),e()(),t(7,"td")(8,"div",38)(9,"button",39),m(10,"i",40),e(),t(11,"ul",13)(12,"li")(13,"a",41),m(14,"i",42),a(15,"Delete"),e()()()()()()),n&2){let i=O.$implicit;d(3),b(i.EMAIL),d(3),b(i.DATE)}}var W=(()=>{class n{constructor(i,r,o){this.data=i,this.router=r,this.pagination=o,this.routes=j,this.initChecked=!1,this.pageSize=10,this.tableData=[],this.tableDataCopy=[],this.actualData=[],this.currentPage=1,this.skip=0,this.limit=this.pageSize,this.serialNumberArray=[],this.totalData=0,this.showFilter=!1,this.pageSelection=[],this.searchDataValue="",this.data.getNews().subscribe(s=>{this.actualData=s.data,this.pagination.tablePageSize.subscribe(l=>{this.router.url==this.routes.newsLetters&&(this.getTableData({skip:l.skip,limit:l.limit}),this.pageSize=l.pageSize)})})}getTableData(i){this.data.getNews().subscribe(r=>{this.tableData=[],this.tableDataCopy=[],this.serialNumberArray=[],this.totalData=r.totalData,r.data.map((o,s)=>{let l=s+1;s>=i.skip&&l<=i.limit&&(o.sNo=l,this.tableData.push(o),this.tableDataCopy.push(o),this.serialNumberArray.push(l))}),this.dataSource=new R(this.actualData),this.pagination.calculatePageSize.next({totalData:this.totalData,pageSize:this.pageSize,tableData:this.tableData,serialNumberArray:this.serialNumberArray})})}searchData(i){i==""?this.tableData=this.tableDataCopy:(this.dataSource.filter=i.trim().toLowerCase(),this.tableData=this.dataSource.filteredData)}sortData(i){let r=this.tableData.slice();!i.active||i.direction===""?this.tableData=r:this.tableData=r.sort((o,s)=>{let l=o[i.active],Y=s[i.active];return(l<Y?-1:1)*(i.direction==="asc"?1:-1)})}changePageSize(i){this.pageSelection=[],this.limit=i,this.skip=0,this.currentPage=1,this.pagination.tablePageSize.next({skip:this.skip,limit:this.limit,pageSize:this.pageSize})}static{this.\u0275fac=function(r){return new(r||n)(c(k),c(M),c(P))}}static{this.\u0275cmp=S({type:n,selectors:[["app-newsletters"]],standalone:!1,decls:69,vars:4,consts:[[1,"content","me-4"],[1,"d-md-flex","d-block","align-items-center","justify-content-between","page-breadcrumb","mb-3"],[1,"my-auto","mb-2"],[1,"mb-1"],[1,"breadcrumb","mb-0"],[1,"breadcrumb-item"],[3,"routerLink"],["aria-current","page",1,"breadcrumb-item","active"],[1,"d-flex","align-items-center","justify-content-between","flex-wrap","row-gap-3","mb-3"],[1,"d-flex","align-items-center","flex-wrap","row-gap-3"],[1,"dropdown","me-2"],["href","javascript:void(0);","data-bs-toggle","dropdown",1,"dropdown-toggle","btn","btn-white","d-inline-flex","align-items-center"],[1,"ti","ti-filter","me-1"],[1,"dropdown-menu","dropdown-menu-end","p-2"],["href","javascript:void(0);",1,"dropdown-item","rounded-1"],[1,"d-flex","my-xl-auto","right-content","align-items-center","flex-wrap","row-gap-3"],[1,"top-search","me-2"],[1,"top-search-group"],[1,"input-icon"],[1,"ti","ti-search"],["type","search","placeholder","Search",1,"form-control","form-control-md",3,"ngModelChange","ngModel","ngModelOptions"],[1,"custom-datatable-filter","table-responsive"],["matSort","",1,"table","datatable",3,"matSortChange"],[1,"thead-light"],["mat-sort-header","role"],["mat-sort-header","date"],[1,"table-footer"],["id","delete",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-sm"],[1,"modal-content"],[1,"modal-body","text-center"],[1,"avatar","avatar-lg","bg-transparent-danger","rounded-circle","text-danger","mb-3"],[1,"ti","ti-trash-x","fs-26"],[1,"mb-3"],[1,"d-flex","justify-content-center"],["href","javascript:void(0);","data-bs-dismiss","modal",1,"btn","btn-light","me-3"],["href","javascript:void(0);","data-bs-dismiss","modal",1,"btn","btn-primary"],[1,"text-gray-9"],[1,"dropdown"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-icon","btn-sm"],[1,"ti","ti-dots-vertical"],["href","javascript:void(0);","data-bs-toggle","modal","data-bs-target","#delete",1,"dropdown-item","rounded-1"],[1,"ti","ti-trash","me-1"]],template:function(r,o){r&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),a(4,"Newsletters"),e(),t(5,"nav")(6,"ol",4)(7,"li",5)(8,"a",6),a(9,"Home"),e()(),t(10,"li",7),a(11," Newsletters "),e()()()()(),t(12,"div",8)(13,"div",9)(14,"div",10)(15,"a",11),m(16,"i",12),a(17," Sort By : Latest "),e(),t(18,"ul",13)(19,"li")(20,"a",14),a(21,"Latest"),e()(),t(22,"li")(23,"a",14),a(24,"Ascending"),e()(),t(25,"li")(26,"a",14),a(27,"Desending"),e()(),t(28,"li")(29,"a",14),a(30,"Last Month"),e()(),t(31,"li")(32,"a",14),a(33,"Last 7 Days"),e()()()()(),t(34,"div",15)(35,"div",16)(36,"div",17)(37,"span",18),m(38,"i",19),e(),t(39,"input",20),C("ngModelChange",function(l){return x(o.searchDataValue,l)||(o.searchDataValue=l),l}),g("ngModelChange",function(){return o.searchData(o.searchDataValue)}),e()()()()(),t(40,"div",21)(41,"table",22),g("matSortChange",function(l){return o.sortData(l)}),t(42,"thead",23)(43,"tr")(44,"th",24),a(45,"EMAIL"),e(),t(46,"th",25),a(47,"DATE"),e(),m(48,"th"),e()(),t(49,"tbody"),v(50,G,16,2,"tr",null,w),e()()(),m(52,"div",26)(53,"app-custom-pagination"),e(),t(54,"div",27)(55,"div",28)(56,"div",29)(57,"div",30)(58,"span",31),m(59,"i",32),e(),t(60,"h4",3),a(61,"Delete Newsletter"),e(),t(62,"p",33),a(63,"Are you sure you want to delete Newsletter?"),e(),t(64,"div",34)(65,"a",35),a(66,"Cancel"),e(),t(67,"a",36),a(68,"Yes, Delete"),e()()()()()()),r&2&&(d(8),u("routerLink",o.routes.homeNew),d(31),y("ngModel",o.searchDataValue),u("ngModelOptions",N(3,q)),d(11),D(o.tableData))},dependencies:[_,z,A,L,T,I,V],encapsulation:2})}}return n})();var J=[{path:"",component:W}],H=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=h({type:n})}static{this.\u0275inj=p({imports:[f.forChild(J),f]})}}return n})();var pe=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=h({type:n})}static{this.\u0275inj=p({imports:[E,H,F]})}}return n})();export{pe as NewslettersModule};
